<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Шиномонтаж</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script defer src="script.js"></script>
</head>
<body>
<div class="wrap">

  <header>
    <h1>Шиномонтаж</h1>
    <button id="logoutBtn" class="hidden" onclick="logout()">Выйти</button>
  </header>

  <!-- === Запись === -->
  <div class="card">
    <h2>Запись</h2>
    <div class="form-row">
      <input type="text" id="guestName" placeholder="Имя">
      <input type="text" id="guestPhone" placeholder="Телефон">
      <select id="guestCarType">
        <option>Легковая</option>
        <option>Кроссовер</option>
        <option>Внедорожник</option>
        <option>Микроавтобус</option>
        <option>Грузовые</option>
        <option>Коммерческий транспорт</option>
      </select>
      <select id="radiusSelect">
        <option>R13</option>
        <option>R14</option>
        <option>R15</option>
        <option>R16</option>
        <option>R17</option>
        <option>R18</option>
        <option>R19</option>
        <option>R20</option>
        <option>R21</option>
      </select>
      <select id="serviceSelect">
        <option>Балансировка</option>
        <option>Смена резины</option>
        <option>Смена резины с балансировкой</option>
      </select>
      <input type="date" id="guestDate">
      <select id="guestTime"></select>
      <div>Цена: <span id="priceDisplay">-</span></div>
      <button onclick="addGuestRecord()">Записаться</button>
    </div>
  </div>

  <!-- === Контакты === -->
  <div class="card">
    <h2>Контакты</h2>
    <p>Мы работаем: 8:00 - 17:00</p>
    <p>Телефон: Дмитрий 0937900765</p>
    <p>Телефон: Владислав 0969575306</p>
    <a href="https://t.me/VladyslavShunu" target="_blank">
      <button>Написать в Telegram</button>
    </a>
    <a href="https://maps.app.goo.gl/hDVFX9WXePfR5HTh9" target="_blank">
      <button>Мы на карте</button>
    </a>
  </div>

  <!-- === Вход === -->
  <div class="card" id="loginCard">
    <h2>Вход</h2>
    <input type="text" id="loginInput" placeholder="Логин">
    <input type="password" id="passwordInput" placeholder="Пароль">
    <button onclick="login()">Войти</button>
  </div>

  <!-- === Кабинет работника === -->
  <div class="card hidden" id="workerCard">
    <h2>Кабинет работника</h2>
    <div id="workerRecords"></div>
  </div>

  <!-- === Кабинет босса === -->
  <div class="card hidden" id="bossCard">
    <h2>Кабинет босса</h2>
    <div class="top-actions">
      <label>Период:
        <select id="earningPeriod" onchange="renderRecords()">
          <option value="day">День</option>
          <option value="week">Неделя</option>
          <option value="month">Месяц</option>
        </select>
      </label>
      <label>С: <input type="date" id="fromDate" onchange="renderRecords()"></label>
      <label>До: <input type="date" id="toDate" onchange="renderRecords()"></label>
      <span id="bossTotal">Сумма: 0 грн</span>
    </div>
    <div id="bossRecords"></div>
  </div>

</div>
</body>
</html>
